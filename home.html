<html class="modernbrowser" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=320.1, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	
	<title>Navigation experiments</title>
	
	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/style.css?42">
	
	<!-- Head scripts -->
	<script src="js/snap.svg-min.js?42"></script>
	
</head>
<body>
	
	<!-- Tabbar navigation -->
	<nav class="main">
		<ul>
			<li><a class="active" data-tab="tab1" href="">Articles</a></li>
			<li><a data-tab="tab2" href="">Profile</a></li>
			<li><a data-tab="tab3" href="">Settings</a></li>
		</ul>
	</nav>
	<!-- / Tabbar navigation -->
	
	<!-- Page -->
	<div class="page">
		
		<!-- Page content -->
		<div class="content">
			<div class="tabs tab1 active">
				<h1>Awesome design article</h1>
				
				<p class="introduction">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec eros mauris. Vivamus hendrerit eget neque ac commodo. Etiam semper arcu non risus mattis aliquet.</p>
	
				<p>Praesent felis sapien, sollicitudin et sollicitudin sed, rutrum non neque. Pellentesque vel erat vel urna condimentum convallis. Aliquam erat volutpat. Quisque consectetur sodales ante, et fermentum diam tempus dapibus. Duis justo nisl, convallis sit amet laoreet vel, congue vitae nulla. Mauris consequat ante in libero mollis pharetra vitae hendrerit diam. Fusce dictum, leo sed placerat scelerisque, leo ipsum sodales libero, quis adipiscing sem neque vel lectus. Morbi sed sapien eget arcu fermentum mattis sed id ligula.</p>
	
				<p>Mauris varius bibendum lorem. Donec quis tincidunt massa, at facilisis mi. Pellentesque vestibulum pulvinar erat, sit amet adipiscing ligula accumsan id. Etiam arcu leo, gravida non pretium a, gravida lacinia tellus. Nam sed laoreet risus. Quisque id aliquet neque. Etiam semper dolor a lectus venenatis pretium. Nullam venenatis dui sit amet nulla scelerisque facilisis. Sed felis augue, faucibus at fermentum vitae, condimentum sit amet sapien. In a nisi commodo, feugiat arcu non, gravida felis.</p>
	
				<p>Aenean laoreet pulvinar faucibus. Curabitur augue eros, pellentesque ac eleifend at, porta vitae nulla. Duis accumsan justo dolor, nec interdum elit mattis semper. Vestibulum hendrerit ligula dui, eu dignissim lacus lobortis auctor. Sed interdum neque nulla, pretium commodo dui adipiscing non. Integer eu erat rutrum nibh egestas placerat. Proin at eleifend erat. Aliquam erat volutpat. Etiam vulputate pulvinar elit, vel volutpat velit dapibus et. Suspendisse blandit felis elit, ut mollis neque congue adipiscing. Praesent lacus magna, semper vitae diam et, egestas luctus nulla. Mauris interdum dolor egestas velit posuere tempor. Curabitur lorem ante, volutpat vitae mauris at, vulputate ullamcorper tellus. Nulla vel sodales leo, in commodo nisi. Donec pellentesque nulla lorem, eget aliquam arcu ornare iaculis. Nam sagittis ullamcorper lacus et vehicula.</p>
			</div>
			<div class="tabs tab2">
				<h1>Profile</h1>
				
				<p class="introduction">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec eros mauris. Vivamus hendrerit eget neque ac commodo. Etiam semper arcu non risus mattis aliquet.</p>
			
				<p>Aenean laoreet pulvinar faucibus. Curabitur augue eros, pellentesque ac eleifend at, porta vitae nulla. Duis accumsan justo dolor, nec interdum elit mattis semper. Vestibulum hendrerit ligula dui, eu dignissim lacus lobortis auctor. Sed interdum neque nulla, pretium commodo dui adipiscing non. Integer eu erat rutrum nibh egestas placerat. Proin at eleifend erat. Aliquam erat volutpat. Etiam vulputate pulvinar elit, vel volutpat velit dapibus et. Suspendisse blandit felis elit, ut mollis neque congue adipiscing. Praesent lacus magna, semper vitae diam et, egestas luctus nulla. Mauris interdum dolor egestas velit posuere tempor. Curabitur lorem ante, volutpat vitae mauris at, vulputate ullamcorper tellus. Nulla vel sodales leo, in commodo nisi. Donec pellentesque nulla lorem, eget aliquam arcu ornare iaculis. Nam sagittis ullamcorper lacus et vehicula.</p>
			</div>
			<div class="tabs tab3">
				<h1>Settings</h1>
				
				<p class="introduction">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec eros mauris. Vivamus hendrerit eget neque ac commodo. Etiam semper arcu non risus mattis aliquet.</p>
			
				<p>Praesent felis sapien, sollicitudin et sollicitudin sed, rutrum non neque. Pellentesque vel erat vel urna condimentum convallis. Aliquam erat volutpat. Quisque consectetur sodales ante, et fermentum diam tempus dapibus. Duis justo nisl, convallis sit amet laoreet vel, congue vitae nulla. Mauris consequat ante in libero mollis pharetra vitae hendrerit diam. Fusce dictum, leo sed placerat scelerisque, leo ipsum sodales libero, quis adipiscing sem neque vel lectus. Morbi sed sapien eget arcu fermentum mattis sed id ligula.</p>
			</div>
		</div>
		<!-- / Page content -->
		
		<!-- Navigation button -->
		<span class="showNavigation" data-icon-name="hamburgerCross"></span>
		
	</div>
	<!-- / Page -->
	
	<!-- Scripts -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script src="js/svgicons-config.js?42"></script>
	<script src="js/svgicons.js?42"></script>
	<script src="js/hammer.js?42"></script>
	
	<script>
		
		var navigation = {
			init: function()
			{
				var timeout;	
					
				// Init the menu icon
				var icon = new svgIcon(
					document.querySelector('.showNavigation'), 
					svgIconConfig, 
					{ 	speed	: 300, 
						size		: { w : 18, h : 18 }, 
						onLoad	: function(){
							
							// Toggle the tabbar navigation
							$('.showNavigation').on('click', function(){
								if($('.page').hasClass('navShown')){
									navigation.popPage();
								}else{
									navigation.pushPage();
									
									// On page click go back to page
									$('.page').one('click', function(){
										navigation.popPage();
										icon.toggle(true);
										return false;
									});
								}
								return false;
							});
							
							// Block scrolling while pinching
							$('.tabs').hammer({ drag_lock_to_axis: true }).on("pinch", function(event) {
								   event.gesture.preventDefault();
							});
							
							// Show navigation on pinch in
							Hammer($('body')).on("pinchin", function(event) {
								navigation.pushPage();
								icon.toggle(true);
							});
							
							// Hide navigation on pinch out
							Hammer($('body')).on("pinchout", function(event) {
								navigation.popPage();
								icon.toggle(true);
							});
							
							// Show navigation on pinch in
							Hammer($('body')).on("pinchin", function(event) {
								navigation.pushPage();
								icon.toggle(true);
							});
							
							// Navigate to other pages
							$('nav.main a').on('click', function(){
								
								var self = $(this);
								
								// Check if we navigate to another page or a new one
								if($('.tabs.active').hasClass(self.data('tab'))){	
									
									// Head back to the current page
									navigation.popPage();
									icon.toggle(true);
									
								}else{
									
									//Navigate to another page
									$('.page').addClass('slideOut');
									$('nav.main a').removeClass('active');
									self.addClass('active');
									
									timeout = setTimeout(function(){
										$('.tabs').removeClass('active');
										$('.tabs.' + self.data('tab')).addClass('active');
										icon.toggle(true);
									}, 300);
									
									timeout = setTimeout(function(){
										$('.page').removeClass('slideOut');
									}, 610);
									
									timeout = setTimeout(function(){
										$('.page').removeClass('rotateBack');
									}, 900);
									
									timeout = setTimeout(function(){
										$('.page').removeClass('navShown');
									}, 1000);
								
								}
								
								return false;
							});
							
						}
					}
				);
					
				// Add tap highlights
				$('a').on('touchstart', function(e){
					$(this).addClass('tapped');
				});
				
				$('a').on('touchend', function(e){
					$(this).removeClass('tapped');
				});
				
			},
			
			pushPage: function(){
				$('.page').addClass('navShown');
				timeout = setTimeout(function(){
					$('.page').addClass('rotateBack');
				}, 200);
			}, 
			
			popPage: function(){
				$('.page').removeClass('rotateBack').off('click');
				timeout = setTimeout(function(){
					$('.page').removeClass('navShown');
				}, 200);
			}, 
		};
		
		$(navigation.init);
		
	</script>
			 
</body>
</html>